// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Book {
  code       String     @id @default(uuid())
  title      String
  author     String
  year       DateTime
  belongs_to String
  status     BookStatus
  @@map("books")
}

enum BookStatus {
  AVAILABLE
  RESERVED
  BORROWED
}

model Operation {
  id           String        @id @default(uuid())
  createdAt    DateTime      @default(now())
  expectedDate DateTime      
  finalDate    DateTime?     
  type         OperationType
}

enum OperationType {
  RESERVE
  BORROW
}

model User {
  cpf            String     @id @default(uuid())
  email          String     @unique
  password       String
  name           String
  code           String
  phone          String
  birth_date     DateTime
  street_name    String
  street_type    StreetType
  house_number   String
  complements    String?
  neighborhood   String
  city           String
  state          String
  cep            Int
  institution    String
  role           Role       @default(STUDENT)
  @@map("users")
}

enum Role {
  STUDENT
  EMPLOYEE
  ADMIN
}

enum StreetType {
  AEROPORTO
  ALAMEDA
  AREA
  AVENIDA
  CAMPO
  CHACARA
  COLONIA
  CONDOMINIO
  CONJUNTO
  DISTRITO
  ESPLANADA
  ESTACAO
  ESTRADA
  FAVELA
  FAZENDA
  FEIRA
  JARDIM
  LADEIRA
  LAGO
  LAGOA
  LARGO
  LOTEAMENTO
  MORRO
  NUCLEO
  PARQUE
  PASSARELA
  PATIO
  PRACA
  QUADRA
  RECANTO
  RESIDENCIAL
  RODOVIA
  RUA
  SETOR
  SITIO
  TRAVESSA
  TRECHO
  TREVO
  VALE
  VEREDA
  VIA
  VIADUTO
  VIELA
  VILA
}